<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Lingo::Attendee::Sequencer - lingo Application documentation (v1.8.4)</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  
<div id="table-of-contents">
  <nav class="section">
    <h3 class="section-header">Table of Contents</h3>
    <ul>
      <li><a href="#label-M%C3%B6gliche+Verlinkung">Mögliche Verlinkung</a>
      <li><a href="#label-Parameter">Parameter</a>
      <li><a href="#label-Konfiguration">Konfiguration</a>
      <li><a href="#label-Beispiele">Beispiele</a>
    </ul>
  </nav>
</div>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/lingo/attendee/sequencer.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">BufferedAttendee
  
</nav>

    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-i-control">#control</a>
    
    <li ><a href="#method-i-find_seq">#find_seq</a>
    
    <li ><a href="#method-i-init">#init</a>
    
    <li ><a href="#method-i-process_buffer">#process_buffer</a>
    
    <li ><a href="#method-i-process_buffer-3F">#process_buffer?</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../COPYING.html">COPYING</a>
  
    <li class="file"><a href="../../ChangeLog.html">ChangeLog</a>
  
    <li class="file"><a href="../../README.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../Lingo.html">Lingo</a>
  
    <li><a href="../../Lingo/AgendaItem.html">Lingo::AgendaItem</a>
  
    <li><a href="../../Lingo/App.html">Lingo::App</a>
  
    <li><a href="../../Lingo/Attendee.html">Lingo::Attendee</a>
  
    <li><a href="../../Lingo/Attendee/Abbreviator.html">Lingo::Attendee::Abbreviator</a>
  
    <li><a href="../../Lingo/Attendee/Debugger.html">Lingo::Attendee::Debugger</a>
  
    <li><a href="../../Lingo/Attendee/Decomposer.html">Lingo::Attendee::Decomposer</a>
  
    <li><a href="../../Lingo/Attendee/Dehyphenizer.html">Lingo::Attendee::Dehyphenizer</a>
  
    <li><a href="../../Lingo/Attendee/Formatter.html">Lingo::Attendee::Formatter</a>
  
    <li><a href="../../Lingo/Attendee/MultiWorder.html">Lingo::Attendee::MultiWorder</a>
  
    <li><a href="../../Lingo/Attendee/NonewordFilter.html">Lingo::Attendee::NonewordFilter</a>
  
    <li><a href="../../Lingo/Attendee/ObjectFilter.html">Lingo::Attendee::ObjectFilter</a>
  
    <li><a href="../../Lingo/Attendee/Sequencer.html">Lingo::Attendee::Sequencer</a>
  
    <li><a href="../../Lingo/Attendee/Stemmer.html">Lingo::Attendee::Stemmer</a>
  
    <li><a href="../../Lingo/Attendee/Stemmer/Porter.html">Lingo::Attendee::Stemmer::Porter</a>
  
    <li><a href="../../Lingo/Attendee/Synonymer.html">Lingo::Attendee::Synonymer</a>
  
    <li><a href="../../Lingo/Attendee/TextReader.html">Lingo::Attendee::TextReader</a>
  
    <li><a href="../../Lingo/Attendee/TextReader/PDFFilter.html">Lingo::Attendee::TextReader::PDFFilter</a>
  
    <li><a href="../../Lingo/Attendee/TextWriter.html">Lingo::Attendee::TextWriter</a>
  
    <li><a href="../../Lingo/Attendee/Tokenizer.html">Lingo::Attendee::Tokenizer</a>
  
    <li><a href="../../Lingo/Attendee/Variator.html">Lingo::Attendee::Variator</a>
  
    <li><a href="../../Lingo/Attendee/VectorFilter.html">Lingo::Attendee::VectorFilter</a>
  
    <li><a href="../../Lingo/Attendee/WordSearcher.html">Lingo::Attendee::WordSearcher</a>
  
    <li><a href="../../Lingo/BackendNotAvailableError.html">Lingo::BackendNotAvailableError</a>
  
    <li><a href="../../Lingo/BackendNotFoundError.html">Lingo::BackendNotFoundError</a>
  
    <li><a href="../../Lingo/BufferedAttendee.html">Lingo::BufferedAttendee</a>
  
    <li><a href="../../Lingo/CLI.html">Lingo::CLI</a>
  
    <li><a href="../../Lingo/Call.html">Lingo::Call</a>
  
    <li><a href="../../Lingo/Config.html">Lingo::Config</a>
  
    <li><a href="../../Lingo/ConfigError.html">Lingo::ConfigError</a>
  
    <li><a href="../../Lingo/ConfigLoadError.html">Lingo::ConfigLoadError</a>
  
    <li><a href="../../Lingo/Ctl.html">Lingo::Ctl</a>
  
    <li><a href="../../Lingo/Database.html">Lingo::Database</a>
  
    <li><a href="../../Lingo/Database/Crypter.html">Lingo::Database::Crypter</a>
  
    <li><a href="../../Lingo/Database/GDBMStore.html">Lingo::Database::GDBMStore</a>
  
    <li><a href="../../Lingo/Database/HashStore.html">Lingo::Database::HashStore</a>
  
    <li><a href="../../Lingo/Database/LibCDBStore.html">Lingo::Database::LibCDBStore</a>
  
    <li><a href="../../Lingo/Database/SDBMStore.html">Lingo::Database::SDBMStore</a>
  
    <li><a href="../../Lingo/Database/ShowProgress.html">Lingo::Database::ShowProgress</a>
  
    <li><a href="../../Lingo/Database/Source.html">Lingo::Database::Source</a>
  
    <li><a href="../../Lingo/Database/Source/KeyValue.html">Lingo::Database::Source::KeyValue</a>
  
    <li><a href="../../Lingo/Database/Source/MultiKey.html">Lingo::Database::Source::MultiKey</a>
  
    <li><a href="../../Lingo/Database/Source/MultiValue.html">Lingo::Database::Source::MultiValue</a>
  
    <li><a href="../../Lingo/Database/Source/SingleWord.html">Lingo::Database::Source::SingleWord</a>
  
    <li><a href="../../Lingo/Database/Source/WordClass.html">Lingo::Database::Source::WordClass</a>
  
    <li><a href="../../Lingo/DatabaseError.html">Lingo::DatabaseError</a>
  
    <li><a href="../../Lingo/Debug.html">Lingo::Debug</a>
  
    <li><a href="../../Lingo/FileNotFoundError.html">Lingo::FileNotFoundError</a>
  
    <li><a href="../../Lingo/InvalidDatabaseConfigError.html">Lingo::InvalidDatabaseConfigError</a>
  
    <li><a href="../../Lingo/Language.html">Lingo::Language</a>
  
    <li><a href="../../Lingo/Language/Char.html">Lingo::Language::Char</a>
  
    <li><a href="../../Lingo/Language/Dictionary.html">Lingo::Language::Dictionary</a>
  
    <li><a href="../../Lingo/Language/Grammar.html">Lingo::Language::Grammar</a>
  
    <li><a href="../../Lingo/Language/Lexical.html">Lingo::Language::Lexical</a>
  
    <li><a href="../../Lingo/Language/LexicalHash.html">Lingo::Language::LexicalHash</a>
  
    <li><a href="../../Lingo/Language/Token.html">Lingo::Language::Token</a>
  
    <li><a href="../../Lingo/Language/Word.html">Lingo::Language::Word</a>
  
    <li><a href="../../Lingo/Language/WordForm.html">Lingo::Language::WordForm</a>
  
    <li><a href="../../Lingo/LibraryLoadError.html">Lingo::LibraryLoadError</a>
  
    <li><a href="../../Lingo/LingoError.html">Lingo::LingoError</a>
  
    <li><a href="../../Lingo/MissingConfigError.html">Lingo::MissingConfigError</a>
  
    <li><a href="../../Lingo/NameNotFoundError.html">Lingo::NameNotFoundError</a>
  
    <li><a href="../../Lingo/NoDatabaseConfigError.html">Lingo::NoDatabaseConfigError</a>
  
    <li><a href="../../Lingo/NoWritableStoreError.html">Lingo::NoWritableStoreError</a>
  
    <li><a href="../../Lingo/ShowProgress.html">Lingo::ShowProgress</a>
  
    <li><a href="../../Lingo/SourceFileNotFoundError.html">Lingo::SourceFileNotFoundError</a>
  
    <li><a href="../../Lingo/Srv.html">Lingo::Srv</a>
  
    <li><a href="../../Lingo/Version.html">Lingo::Version</a>
  
    <li><a href="../../Lingo/Web.html">Lingo::Web</a>
  
    <li><a href="../../Lingo/Web/Rack.html">Lingo::Web::Rack</a>
  
    <li><a href="../../Lingo/Web/Rack/Auth.html">Lingo::Web::Rack::Auth</a>
  
    <li><a href="../../Nuggets.html">Nuggets</a>
  
    <li><a href="../../YAML.html">YAML</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Lingo::Attendee::Sequencer</h1>

  <div id="description" class="description">
    
<p>Der <a href="Sequencer.html">Sequencer</a> ist von seiner Funktion her
ähnlich dem Multiworder. Der Multiworder nutzt zur Erkennung von
Mehrwortgruppen spezielle Wörterbücher, der <a
href="Sequencer.html">Sequencer</a> hingegen definierte Folgen von
Wortklassen. Mit dem <a href="Sequencer.html">Sequencer</a> können
Indexterme generiert werden, die sich über mehrere Wörter erstrecken. Die
Textfolge “automatische Indexierung und geniale Indexierung” wird bisher in
die Indexterme “automatisch”, “Indexierung” und “genial” zerlegt. Über die
Konfiguration kann der <a href="Sequencer.html">Sequencer</a>
Mehrwortgruppen identifizieren, die z.B. aus einem Adjektiv und einem
Substantiv bestehen. Mit der o.g. Textfolge würde dann auch “Indexierung,
automatisch” und “Indexierung, genial” als Indexterm erzeugt werden. Welche
Wortklassenfolgen erkannt werden sollen und wie die Ausgabe aussehen soll,
wird dem <a href="Sequencer.html">Sequencer</a> über seine Konfiguration
mitgeteilt.</p>

<h3 id="label-M%C3%B6gliche+Verlinkung">Mögliche Verlinkung<span><a href="#label-M%C3%B6gliche+Verlinkung">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt>Erwartet
<dd>
<p>Daten vom Typ <strong>Word</strong> z.B. von Wordsearcher, <a
href="Decomposer.html">Decomposer</a>, Ocr_variator, Multiworder</p>
</dd><dt>Erzeugt
<dd>
<p>Daten vom Typ <strong>Word</strong> (mit Attribut WA_SEQUENCE). Je
erkannter Mehrwortgruppe wird ein zusätzliches Word-Objekt in den
Datenstrom eingefügt. Z.B. für Ocr_variator, <a
href="Sequencer.html">Sequencer</a>, Noneword_filter, Vector_filter</p>
</dd></dl>

<h3 id="label-Parameter">Parameter<span><a href="#label-Parameter">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Kursiv dargestellte Parameter sind optional (ggf. mit Angabe der
Voreinstellung). Alle anderen Parameter müssen zwingend angegeben werden.</p>
<dl class="rdoc-list note-list"><dt><strong>in</strong>
<dd>
<p>siehe allgemeine Beschreibung des <a href="../Attendee.html">Attendee</a></p>
</dd><dt><strong>out</strong>
<dd>
<p>siehe allgemeine Beschreibung des <a href="../Attendee.html">Attendee</a></p>
</dd><dt><strong><em>stopper</em></strong>
<dd>
<p>(Standard: TA_PUNCTUATION, TA_OTHER) Gibt die Begrenzungen an, zwischen
denen der <a href="Sequencer.html">Sequencer</a> suchen soll, i.d.R.
Satzzeichen und Sonderzeichen, weil sie kaum in einer Mehrwortgruppen
vorkommen.</p>
</dd></dl>

<h3 id="label-Konfiguration">Konfiguration<span><a href="#label-Konfiguration">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Der <a href="Sequencer.html">Sequencer</a> benötigt zur Identifikation von
Mehrwortgruppen Regeln, nach denen er arbeiten soll. Die benötigten Regeln
werden nicht als Parameter, sondern in der Sprachkonfiguration hinterlegt,
die sich standardmäßig in der Datei <code>de.lang</code> befindet
(YAML-Format).</p>

<pre>language:
  attendees:
    sequencer:
      sequences: [ [AS, &quot;2, 1&quot;], [AK, &quot;2, 1&quot;] ]</pre>

<p>Hiermit werden dem <a href="Sequencer.html">Sequencer</a> zwei Regeln
mitgeteilt: Er soll Adjektiv-Substantiv- (AS) und
Adjektiv-Kompositum-Folgen (AK) erkennen. Zusätzlich ist angegeben, in
welchem Format die dadurch ermittelte Wortfolge ausgegeben werden soll. In
diesem Beispiel also zuerst das Substantiv und durch Komma getrennt das
Adjektiv.</p>

<h3 id="label-Beispiele">Beispiele<span><a href="#label-Beispiele">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Bei der Verarbeitung einer normalen Textdatei mit der Ablaufkonfiguration
<code>t1.cfg</code></p>

<pre>meeting:
  attendees:
    - text_reader:   { out: lines, files: &#39;$(files)&#39; }
    - tokenizer:     { in: lines, out: token }
    - word_searcher: { in: token, out: words, source: &#39;sys-dic&#39; }
    - sequencer:     { in: words, out: seque }
    - debugger:      { in: seque, prompt: &#39;out&gt;&#39; }</pre>

<p>ergibt die Ausgabe über den Debugger: <code>lingo -c t1 test.txt</code></p>

<pre>out&gt; *FILE(&#39;test.txt&#39;)
out&gt; &lt;Lingo|?&gt;
out&gt; &lt;kann = [(koennen/v)]&gt;
out&gt; &lt;indexierung, automatisch|SEQ = [(indexierung, automatisch/q)]&gt;
out&gt; &lt;automatische = [(automatisch/a)]&gt;
out&gt; &lt;Indexierung = [(indexierung/s)]&gt;
out&gt; &lt;und = [(und/w)]&gt;
out&gt; &lt;indexierung, genial|SEQ = [(indexierung, genial/q)]&gt;
out&gt; &lt;geniale = [(genial/a), (genialisch/a)]&gt;
out&gt; &lt;Indexierung = [(indexierung/s)]&gt;
out&gt; :./PUNC:
out&gt; *EOL(&#39;test.txt&#39;)
out&gt; *EOF(&#39;test.txt&#39;)</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Protected Instance Methods</h3>

    
      <div id="method-i-control" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">control</span><span
            class="method-args">(cmd, param)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="control-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/sequencer.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">control</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">param</span>)
  <span class="ruby-identifier">process_buffer</span> <span class="ruby-keyword">if</span> [<span class="ruby-constant">STR_CMD_RECORD</span>, <span class="ruby-constant">STR_CMD_EOF</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">cmd</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- control-source -->
          
        </div>

        

        
      </div><!-- control-method -->

    
      <div id="method-i-init" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">init</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="init-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/sequencer.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">init</span>
  <span class="ruby-ivar">@stopper</span> = <span class="ruby-identifier">get_array</span>(<span class="ruby-string">&#39;stopper&#39;</span>, <span class="ruby-constant">DEFAULT_SKIP</span>)
               .<span class="ruby-identifier">push</span>(<span class="ruby-constant">WA_UNKNOWN</span>, <span class="ruby-constant">WA_UNKMULPART</span>)

  <span class="ruby-ivar">@mwc</span> = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">&#39;multiword&#39;</span>, <span class="ruby-constant">LA_MULTIWORD</span>)
  <span class="ruby-ivar">@cls</span> = []

  <span class="ruby-ivar">@seq</span> = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">&#39;sequences&#39;</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">str</span>, <span class="ruby-identifier">fmt</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@cls</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">cls</span> = (<span class="ruby-identifier">str</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">downcase</span>).<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/[[:alpha:]]/</span>))

    (<span class="ruby-identifier">str</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\W/</span> <span class="ruby-operator">?</span> [<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>), <span class="ruby-keyword">nil</span>] <span class="ruby-operator">:</span> [<span class="ruby-identifier">str</span>, <span class="ruby-identifier">cls</span>]).<span class="ruby-identifier">push</span>(
      <span class="ruby-identifier">fmt</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">?</span> <span class="ruby-string">&#39;|&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">fmt</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">fmt</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\d+/</span>, <span class="ruby-string">&#39;%\&amp;$s&#39;</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
  }

  <span class="ruby-ivar">@cls</span>.<span class="ruby-identifier">uniq!</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-constant">MissingConfigError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:sequences</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@seq</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- init-source -->
          
        </div>

        

        
      </div><!-- init-method -->

    
      <div id="method-i-process_buffer" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process_buffer</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="process_buffer-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/sequencer.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process_buffer</span>
  <span class="ruby-identifier">flush</span>(<span class="ruby-ivar">@buffer</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@buffer</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">cls</span>, <span class="ruby-identifier">mwc</span>, <span class="ruby-identifier">unk</span> = [[], <span class="ruby-identifier">buf</span> = [], <span class="ruby-identifier">map</span> = [], <span class="ruby-ivar">@seq</span>], <span class="ruby-ivar">@cls</span>, <span class="ruby-ivar">@mwc</span>, <span class="ruby-node">%w[#]</span>

    <span class="ruby-identifier">iter</span>, <span class="ruby-identifier">skip</span>, <span class="ruby-identifier">rewind</span> = <span class="ruby-ivar">@buffer</span>.<span class="ruby-identifier">each_with_index</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">lambda</span> {
      <span class="ruby-identifier">iter</span>.<span class="ruby-identifier">rewind</span>; <span class="ruby-identifier">skip</span>.<span class="ruby-identifier">times</span> { <span class="ruby-identifier">iter</span>.<span class="ruby-identifier">next</span> }; <span class="ruby-identifier">skip</span> = <span class="ruby-value">0</span>
    }

    <span class="ruby-identifier">loop</span> {
      <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">idx</span> = <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">iter</span>.<span class="ruby-identifier">next</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StopIteration</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">skip</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>

        <span class="ruby-identifier">buf</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">skip</span>)
        <span class="ruby-identifier">map</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">skip</span>)

        <span class="ruby-identifier">rewind</span>.<span class="ruby-identifier">call</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">att</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Word</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">obj</span>.<span class="ruby-identifier">unknown?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">attrs</span>(<span class="ruby-keyword">false</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">unk</span>

      <span class="ruby-keyword">if</span> (<span class="ruby-identifier">att</span> <span class="ruby-operator">&amp;=</span> <span class="ruby-identifier">cls</span>).<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">find_seq</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
        <span class="ruby-identifier">rewind</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">skip</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">n</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">multiword_size</span>(<span class="ruby-identifier">mwc</span>)
          <span class="ruby-identifier">n</span>.<span class="ruby-identifier">times</span> { <span class="ruby-identifier">iter</span>.<span class="ruby-identifier">next</span> }
          <span class="ruby-identifier">skip</span> = <span class="ruby-identifier">idx</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">obj</span>
        <span class="ruby-identifier">map</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">att</span>
      <span class="ruby-keyword">end</span>
    }

    <span class="ruby-ivar">@buffer</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">find_seq</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>))
  <span class="ruby-keyword">end</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- process_buffer-source -->
          
        </div>

        

        
      </div><!-- process_buffer-method -->

    
      <div id="method-i-process_buffer-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process_buffer?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="process_buffer-3F-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/sequencer.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process_buffer?</span>
  (<span class="ruby-identifier">obj</span> = <span class="ruby-ivar">@buffer</span>.<span class="ruby-identifier">last</span>).<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">WordForm</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@stopper</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">attr</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- process_buffer-3F-source -->
          
        </div>

        

        
      </div><!-- process_buffer-3F-method -->

    
    </section><!-- protected-instance-method-details -->
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Private Instance Methods</h3>

    
      <div id="method-i-find_seq" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_seq</span><span
            class="method-args">(mat, buf, map, seq)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="find_seq-source">
            <pre><span class="ruby-comment"># File lib/lingo/attendee/sequencer.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_seq</span>(<span class="ruby-identifier">mat</span>, <span class="ruby-identifier">buf</span>, <span class="ruby-identifier">map</span>, <span class="ruby-identifier">seq</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">mat</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">buf</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">forms</span>, <span class="ruby-identifier">args</span> = [], []

  <span class="ruby-identifier">map</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">map</span>.<span class="ruby-identifier">shift</span>.<span class="ruby-identifier">product</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">map</span>)).<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">join</span> }.<span class="ruby-identifier">uniq!</span>

  <span class="ruby-identifier">map</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">q</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">seq</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">str</span>, <span class="ruby-identifier">cls</span>, <span class="ruby-identifier">fmt</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">_str</span>, <span class="ruby-identifier">_cls</span> = [<span class="ruby-identifier">str</span>, <span class="ruby-identifier">cls</span>]

      <span class="ruby-keyword">while</span> <span class="ruby-identifier">pos</span> = <span class="ruby-identifier">q</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">pos</span> <span class="ruby-operator">||</span> <span class="ruby-value">0</span>)
        <span class="ruby-identifier">_str</span>, <span class="ruby-identifier">_cls</span> = [<span class="ruby-node">$&amp;</span>, <span class="ruby-node">$&amp;</span>.<span class="ruby-identifier">chars</span>] <span class="ruby-keyword">unless</span> <span class="ruby-identifier">cls</span>

        <span class="ruby-identifier">args</span>.<span class="ruby-identifier">clear</span>

        <span class="ruby-identifier">_cls</span>.<span class="ruby-identifier">each_with_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">wc</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">buf</span>[<span class="ruby-identifier">pos</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">i</span>].<span class="ruby-identifier">lexicals</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">args</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">l</span>.<span class="ruby-identifier">form</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">l</span>.<span class="ruby-identifier">attr</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">wc</span>
          } <span class="ruby-keyword">or</span> <span class="ruby-keyword">break</span>
        } <span class="ruby-keyword">or</span> <span class="ruby-keyword">next</span>

        <span class="ruby-identifier">forms</span> <span class="ruby-operator">&lt;&lt;</span> (
          <span class="ruby-identifier">fmt</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\d/</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">fmt</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&#39;%0$s&#39;</span>, <span class="ruby-identifier">_str</span>) <span class="ruby-operator">%</span> <span class="ruby-identifier">args</span> <span class="ruby-operator">:</span>
          <span class="ruby-identifier">fmt</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;#{_str}:#{args.join(fmt)}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>)
        )

        <span class="ruby-identifier">pos</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword">end</span>
    }
  }.<span class="ruby-identifier">clear</span>

  <span class="ruby-identifier">forms</span>.<span class="ruby-identifier">uniq!</span>
  <span class="ruby-identifier">forms</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">mat</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Word</span>.<span class="ruby-identifier">new_lexical</span>(<span class="ruby-identifier">f</span>, <span class="ruby-constant">WA_SEQUENCE</span>, <span class="ruby-constant">LA_SEQUENCE</span>) }

  <span class="ruby-identifier">buf</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-identifier">mat</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- find_seq-source -->
          
        </div>

        

        
      </div><!-- find_seq-method -->

    
    </section><!-- private-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.1.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

